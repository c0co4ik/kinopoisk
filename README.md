# kinopoisk
1)В этом проекте я опять попрактиковался с API.Только в этот раз было много методов объекта которые я использовал и получал данные. К примеру я получал название фильма, рейтинг, жанр, постер.
Дальше я с помощью ассинхронной функции получил эти данные.
Сделал каждому фильму функцию через forEach, что бы добавлять каждой карточки фильма информацию которую я получиз из API.
Рейтингу я добавил еще одну функцию, что бы выполнялось условие (рейтинг > число), когда условие выполнялось, фон этого элемента обводиться в зеленый, желтый или красный цвет, взависимости от рейтинга фильма.
И в конце этой функции я добавлял целостную карточку фильма родителю через метод .appendChild() .

Также я повесил обработчик событий на форму, что бы следить за ней. При submit я обнуляю ее дефолтное состояние, создаю переменную где соединяю API поиска фильма по ключевым словам и значение поиска, который я заранее нашел

const searchCurrent = `${apiSearch}${search.value}`;

Что бы функция лишний раз не работала, я сделал условие что если значения поисковой строки равно какому-то значению, тогда искать. Иначе она не сработает.
Ну и в конце обнуляю значения поиска, что бы смотрелось лаконичнее :)

P.S: Каждый раз когда вызывается функция показывать фильмы, вначале я обнуляю родительский элемент, что бы данные на странице обновлялись, а не добавлялись в низ списка к уже имеющимся.


2)Добавил модальные окна к карточкам.
При клике на карточку фильма:

Создал ассинхронную функцию, которая получает id карточки на которую был совершен клик(повесил обработчик событий на клик во время отрисовки карточки в прошлой функции getMovies), по этому id мы запрашиваем у сервера информацию о фильме, он нам ее возвращает, мы её перерабатываем в json и работаем дальше.
Добавляем блоку с модальным окном класс, который показывает карточку(изначально display: none);
Добавляем для body класс, который не даст листать сайт, пока открыта карточка.
Ну и заполняем эту карточку, по методам которые мы получили с сервера.

Закрытие модального окна:
Закрытие может осуществляться через 3 события, через кнопку, через клик по заднему фону или через клавишу на клавиатуре.
Поскольку у нас 3 события, решил для закрытия сделать функцию, что бы в каждом событии не писать одни и теже действия.
В этой функциии я просто удаляю класс, который показывает карточку, и у body удаляю класс который не даёт пролистывать сайт.
Кнопке задаю обработчик событий на клик и передаю функцию на закрытие модалки.
Что бы закрыть модалку через клик на задний фон, задал обработчик событий на window и определил, что если будет клик на задний фон модалки, то вызвать функцию закрытия модального окна.
Научился выполнять какие-то события на нажатия кнопки(или отпускаяния, в моём случаии нажатия).
Тоже на window повесил обработчик события, только в качестве события выбрал keydown и передал анонимную функцию с параметром e, где указал что если e.key == 'Escape', тогда вызвать функцию с закрытием модального окна.

